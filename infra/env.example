POSTGRES_USER=dev
POSTGRES_PASSWORD=dev
POSTGRES_DB=recs
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

REDIS_URL=redis://redis:6379/0

API_PORT=8000
WEB_PORT=3000
NODE_ENV=development
JWT_SECRET=dev-only-secret
ALLOW_ORIGINS=http://localhost:3000
ENVIRONMENT=dev

# Logging
LOG_FORMAT=json
LOG_LEVEL=INFO

# Data freshness & season handling
OFFERS_STALE_DAYS=7
SEASON_STRICT=true
DAILY_REFRESH_LIMIT=200
DAILY_REFRESH_HOUR=3

# Family Mix strong-pick guardrail
FAMILY_STRONG_MIN_FIT=0.78
FAMILY_STRONG_RULE=min
FAMILY_STRONG_LOCK_COUNT=1

# RC hardening
ADMIN_RPS=10
ADMIN_BURST=20
RECS_TARGET_P95_MS=250
APP_VERSION=0.1.0
GIT_SHA=dev

# Feature flags
USE_REAL_JUSTWATCH=false
USE_REAL_SERIALIZD=false
REGION=AU
USE_SQL_VECTOR=false
ENABLE_DEBUG_ENDPOINTS=true
ADMIN_EMAILS=demo@local.test
FAMILY_COVERAGE_MIN_FIT=0.4
RECS_LATENCY_FOR_MIN=10
STALE_RATIO_WARN=0.30
STALE_RATIO_FOR_MIN=20
ERROR_RATE_HIGH_10M=50
ERROR_RATE_FOR_MIN=10

# Optional alert delivery (Slack/Teams/Zapier/etc. via webhook)
ALERT_WEBHOOK_URL=
# Alert routing (choose 'default' or 'slack')
ALERT_DEFAULT_RECEIVER=default
# Slack incoming webhook URL (if using Slack receiver)
SLACK_WEBHOOK_URL=
# Teams relay target (used by teams-relay service)
TEAMS_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=

# Feedback loop weights (optional overrides)
RATING_WEIGHT_VERY_GOOD=0.25
RATING_WEIGHT_ACCEPTABLE=0.05
RATING_PENALTY_BAD=0.40
TAG_LIKE_BONUS=0.08
TAG_DISLIKE_PENALTY=0.12
HISTORY_ADJ_BOOST=0.06
HISTORY_REWATCH_PENALTY=0.10

# Real data adapters (opt-in)
USE_REAL_JUSTWATCH=false
USE_REAL_SERIALIZD=false
SERIALIZD_USER=
SERIALIZD_TOKEN=
USE_SQLITE=1
DISABLE_REDIS=1
